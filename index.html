<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸŽ¨ Image Filter App</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e, #16213e);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      width: 100%;
      max-width: 1400px;
      height: 90vh;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      backdrop-filter: blur(12px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      overflow: hidden;
    }

    header {
      padding: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      background: rgba(255, 255, 255, 0.02);
    }

    header h1 {
      font-size: 2rem;
      font-weight: 600;
      background: linear-gradient(45deg, #00f2fe, #4facfe);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .main-content {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    .left-panel {
      flex: 2;
      display: flex;
      flex-direction: column;
      padding: 20px;
    }

    .right-panel {
      flex: 1;
      background: rgba(255, 255, 255, 0.03);
      padding: 20px;
      overflow-y: auto;
      border-left: 1px solid rgba(255, 255, 255, 0.1);
    }

    .upload-area {
      border: 2px dashed rgba(255, 255, 255, 0.3);
      border-radius: 15px;
      padding: 40px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 20px;
    }

    .upload-area:hover {
      border-color: #4facfe;
      background: rgba(79, 172, 254, 0.05);
    }

    #imageCanvas {
      max-width: 100%;
      max-height: 65vh;
      border-radius: 15px;
      background: #111;
      margin: auto;
    }

    .toolbar {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 15px 0;
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 12px;
      background: linear-gradient(45deg, #4facfe, #00f2fe);
      color: #fff;
      font-weight: 500;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 242, 254, 0.3);
    }

    .filter-section {
      margin-bottom: 25px;
    }

    .filter-section h3 {
      font-size: 1.2rem;
      margin-bottom: 12px;
      color: #00f2fe;
    }

    .filter-control {
      margin-bottom: 15px;
    }

    .filter-control label {
      display: block;
      margin-bottom: 5px;
      font-size: 0.9rem;
    }

    .filter-control input[type="range"] {
      width: 100%;
      accent-color: #4facfe;
    }

    .presets {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
    }

    .preset-btn {
      padding: 8px 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.05);
      color: #fff;
      cursor: pointer;
      transition: all 0.3s;
    }

    .preset-btn:hover {
      background: rgba(79, 172, 254, 0.2);
      border-color: #4facfe;
    }

    /* animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .filter-panel.active {
      animation: fadeIn 0.4s ease forwards;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header>
      <h1>ðŸŽ¨ Image Filter App</h1>
    </header>

    <div class="main-content">
      <!-- Left panel -->
      <div class="left-panel">
        <div class="upload-area" id="uploadArea">
          <p>Drag & Drop or Click to Upload an Image</p>
          <input type="file" id="fileInput" accept="image/*" style="display:none;">
        </div>
        <canvas id="imageCanvas"></canvas>
        <div class="toolbar">
          <button class="btn" id="resetBtn">Reset</button>
          <button class="btn" id="downloadBtn">Download</button>
        </div>
      </div>

      <!-- Right panel -->
      <div class="right-panel">
        <div class="filter-section">
          <h3>Adjust Filters</h3>
          <div class="filter-control">
            <label>Brightness</label>
            <input type="range" id="brightness" min="0" max="200" value="100">
          </div>
          <div class="filter-control">
            <label>Contrast</label>
            <input type="range" id="contrast" min="0" max="200" value="100">
          </div>
          <div class="filter-control">
            <label>Saturation</label>
            <input type="range" id="saturate" min="0" max="200" value="100">
          </div>
          <div class="filter-control">
            <label>Blur</label>
            <input type="range" id="blur" min="0" max="10" value="0">
          </div>
          <div class="filter-control">
            <label>Hue Rotate</label>
            <input type="range" id="hue-rotate" min="0" max="360" value="0">
          </div>
          <div class="filter-control">
            <label>Sepia</label>
            <input type="range" id="sepia" min="0" max="100" value="0">
          </div>
          <div class="filter-control">
            <label>Invert</label>
            <input type="range" id="invert" min="0" max="100" value="0">
          </div>
          <div class="filter-control">
            <label>Grayscale</label>
            <input type="range" id="grayscale" min="0" max="100" value="0">
          </div>
        </div>

        <div class="filter-section">
          <h3>Presets</h3>
          <div class="presets">
            <button class="preset-btn" data-preset="vintage">Vintage</button>
            <button class="preset-btn" data-preset="cinematic">Cinematic</button>
            <button class="preset-btn" data-preset="warm">Warm</button>
            <button class="preset-btn" data-preset="cool">Cool</button>
            <button class="preset-btn" data-preset="dramatic">Dramatic</button>
            <button class="preset-btn" data-preset="soft">Soft</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    class ImageFilterApp {
      constructor() {
        this.canvas = document.getElementById('imageCanvas');
        this.ctx = this.canvas.getContext('2d');
        this.originalImage = null;
        this.filters = {
          brightness: 100,
          contrast: 100,
          saturate: 100,
          blur: 0,
          'hue-rotate': 0,
          sepia: 0,
          invert: 0,
          grayscale: 0,
        };

        this.bindEvents();
      }

      bindEvents() {
        document.getElementById('uploadArea').addEventListener('click', () => {
          document.getElementById('fileInput').click();
        });

        document.getElementById('fileInput').addEventListener('change', (e) => {
          this.loadImage(e.target.files[0]);
        });

        // Drag & drop
        const uploadArea = document.getElementById('uploadArea');
        uploadArea.addEventListener('dragover', (e) => {
          e.preventDefault();
          uploadArea.style.borderColor = '#4facfe';
        });
        uploadArea.addEventListener('dragleave', () => {
          uploadArea.style.borderColor = 'rgba(255,255,255,0.3)';
        });
        uploadArea.addEventListener('drop', (e) => {
          e.preventDefault();
          this.loadImage(e.dataTransfer.files[0]);
        });

        // Filters
        Object.keys(this.filters).forEach(filter => {
          document.getElementById(filter).addEventListener('input', (e) => {
            this.filters[filter] = e.target.value;
            this.applyFilters();
          });
        });

        // Presets
        document.querySelectorAll('.preset-btn').forEach(btn => {
          btn.addEventListener('click', () => this.applyPreset(btn.dataset.preset));
        });

        document.getElementById('resetBtn').addEventListener('click', () => this.resetFilters());
        document.getElementById('downloadBtn').addEventListener('click', () => this.downloadImage());
      }

      loadImage(file) {
        if (!file) return;
        const reader = new FileReader();
        reader.onload = (e) => {
          const img = new Image();
          img.onload = () => {
            this.canvas.width = img.width;
            this.canvas.height = img.height;
            this.originalImage = img;
            this.applyFilters();
          };
          img.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }

      applyFilters() {
        if (!this.originalImage) return;
        const filterString = `
          brightness(${this.filters.brightness}%)
          contrast(${this.filters.contrast}%)
          saturate(${this.filters.saturate}%)
          blur(${this.filters.blur}px)
          hue-rotate(${this.filters['hue-rotate']}deg)
          sepia(${this.filters.sepia}%)
          invert(${this.filters.invert}%)
          grayscale(${this.filters.grayscale}%)
        `;
        this.ctx.filter = filterString;
        this.ctx.drawImage(this.originalImage, 0, 0, this.canvas.width, this.canvas.height);
      }

      resetFilters() {
        Object.keys(this.filters).forEach(f => this.filters[f] = (f === 'blur' ? 0 : 100));
        this.filters.sepia = 0;
        this.filters.invert = 0;
        this.filters.grayscale = 0;
        document.querySelectorAll('.filter-control input').forEach(inp => inp.value = this.filters[inp.id]);
        this.applyFilters();
      }

      applyPreset(name) {
        const presets = {
          vintage: { brightness: 110, contrast: 90, saturate: 120, sepia: 40 },
          cinematic: { brightness: 90, contrast: 120, saturate: 80, 'hue-rotate': 10 },
          warm: { brightness: 105, contrast: 95, saturate: 130, 'hue-rotate': -10 },
          cool: { brightness: 95, contrast: 105, saturate: 110, 'hue-rotate': 15 },
          dramatic: { brightness: 85, contrast: 140, saturate: 90, grayscale: 20 },
          soft: { brightness: 105, contrast: 90, saturate: 110, blur: 1 },
        };
        Object.assign(this.filters, presets[name]);
        Object.keys(this.filters).forEach(f => {
          if (document.getElementById(f)) document.getElementById(f).value = this.filters[f];
        });
        this.applyFilters();
      }

      downloadImage() {
        const link = document.createElement('a');
        link.download = 'filtered-image.png';
        link.href = this.canvas.toDataURL('image/png');
        link.click();
      }
    }

    new ImageFilterApp();
  </script>
</body>
</html>
